<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html class="js" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>Realtime Spring | ScriptSpot</title>



  
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css" media="all">@import "/misc/drupal.css";</style><style type="text/css" media="all">@import "/modules/vote_up_down/vote_up_down.css";</style>
<script type="text/javascript" src="realtime-spring_files/drupal.js"></script>
<script type="text/javascript" src="realtime-spring_files/ajax_vote_up_down.js"></script>

<meta name="copyright" content="All content remains the copyright (c) of its original holder. ScriptSpot.com does not make any guarantees regarding the performance and / or safety of the content posted on the site.">
<meta name="keywords" content="3ds,3d,studio,max,script,maxscript,ms,mcr,mzp,maxzip,mse,autodesk,tutorials,plugins,news,sketchup,google,pro,free,ruby,rubyscript,rb,rbs">

  <style type="text/css" media="all">@import "/modules/banner/banner.css";</style><style type="text/css" media="all">@import "/themes/scriptspot/style.css";</style><style type="text/css" media="all">@import "/modules/tagadelic/tagadelic.css";</style>  <script type="text/javascript"> </script></head><body>
<div id="banner-header">
  <script type="text/javascript" src="realtime-spring_files/banner_file.js"></script>        <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,29,0" height="90" width="728">            <param name="movie" value="http://www.scriptspot.com/files/PT_728x90_Final_No_Matrix_01.swf">            <param name="quality" value="high">            <embed src="realtime-spring_files/PT_728x90_Final_No_Matrix_01.swf" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" height="90" width="728">          </object></div>
<div id="container">
 <div id="wrapper">
  <div id="header">
    <div id="logo">
      <a href="http://www.scriptspot.com/" title="Home"><img src="realtime-spring_files/logo.jpg" alt="Home"></a>
    </div>
      <form action="/search/node" method="post" id="search_theme_form">
<div><div id="search" class="container-inline"><div class="form-item">
 <input maxlength="128" name="edit[search_theme_form_keys]" id="edit-search_theme_form_keys" size="15" value="" title="Enter the terms you wish to search for." class="form-text" type="text">
</div>
<input name="op" value="Search" class="form-submit" type="submit">
<input name="edit[form_id]" id="edit-search-theme-form" value="search_theme_form" type="hidden">
</div>
</div></form>
</div>
    <div id="menu">
       
    <div id="primary">
  <a href="http://www.scriptspot.com/frontpage">Home</a>  <a href="http://www.scriptspot.com/3ds-max-main" title="Autodesk 3ds max">3ds max</a>  <a href="http://www.scriptspot.com/sketchup-main" title="Google SketchUp">SketchUp</a>    </div>
  </div>
  <div id="content">
                <div id="main">
      	<div class="breadcrumb"><a href="http://www.scriptspot.com/">home</a> » <a href="http://www.scriptspot.com/3ds-max-script-tags/animation">Animation</a></div>        <h1 class="title">Realtime Spring</h1>
        <div class="tabs"></div>
                        <!-- begin content -->  <div class="node">
            <span class="submitted">Submitted by <a href="http://www.scriptspot.com/users/harrisyu" title="View user profile.">harrisyu</a> on Sat, 2007-03-10 07:34.</span>    
			<span class="taxonomy"><a href="http://www.scriptspot.com/3ds-max-script-tags/animation" rel="tag" title="">Animation</a> | <a href="http://www.scriptspot.com/3ds-max-script-tags/delay" rel="tag" title="">delay</a> | <a href="http://www.scriptspot.com/3ds-max-script-tags/dynamic" rel="tag" title="">dynamic</a> | <a href="http://www.scriptspot.com/3ds-max-script-tags/lag" rel="tag" title="">lag</a> | <a href="http://www.scriptspot.com/3ds-max-script-tags/realtime" rel="tag" title="">realtime</a> | <a href="http://www.scriptspot.com/3ds-max-script-tags/spring" rel="tag" title="">spring</a></span>
	    <div class="content">
	        	<div class="vote-up-down-widget-alt"><div id="vote_points_3858" class="vote-points">37<div class="vote-points-label">points</div></div><span class="up-inact" title="You must login to vote."></span></div><!-- google_ad_section_start --><p style="margin: 0px;">
<img src="realtime-spring_files/videospringh.gif" alt="" height="232" width="284"> 
</p>
<p style="margin: 0px;">
After watch a few rigging reel using xsi or maya,I think that it would
be much easier in animating if the rig has realtime delay effect. </p>
<p style="margin: 0px;">
But I was confuse how to do in max until I got a sample scene from zhangy(<a href="http://www.zhangy.com/" target="_blank">www.zhangy.com</a>). 
</p>
<p style="margin: 0px;">
After study that scene,I wrote this script.I give a name:realtime
spring.But it doesn't have the "shake" effect,I mean when the dynamic
object reach the driver object's position it would stop.So it actually
make a delay effect. </p>
<p style="margin: 0px;">
&nbsp;
</p>
<p style="margin: 0px;">
&nbsp;
</p>
<p style="margin: 0px;">
a demo video shows how to use it: <a href="http://www.seageo.com/Product/maxRTSscript/videotour.rar" target="_blank">http://www.seageo.com/Product/maxRTSscript/videotour.rar</a> 
</p>
<p style="margin: 0px;">
and 2 video about making loop animation: 
</p>
<p style="margin: 0px;">
<a href="http://www.seageo.com/Product/maxRTSscript/makeloop1.avi" target="_blank">http://www.seageo.com/Product/maxRTSscript/makeloop1.avi</a> 
</p>
<p style="margin: 0px;">
<a href="http://www.seageo.com/Product/maxRTSscript/makeloop2.avi" target="_blank">http://www.seageo.com/Product/maxRTSscript/makeloop2.avi</a> 
</p>
<p style="margin: 0px;">
A fish swimming scene(max9): <a href="http://www.seageo.com/show/UPLOAD/fish%28max9%29.zip" target="_blank">http://www.seageo.com/show/UPLOAD/fish(max9).zip</a> 
</p>
<p style="margin: 0px;">
It's preview animation:<a href="http://www.seageo.com/show/UPLOAD/fish.rar" target="_blank">http://www.seageo.com/show/UPLOAD/fish.rar</a> 
</p>
<p style="margin: 0px;">
My english is bad,so I recode the video in chinese,hope you understand the usage. 
</p>
<p style="margin: 0px;">
I am not good at R&amp;D too,so it has much more space to improve. 
</p>
<p style="margin: 0px;">
Maybe someone would make it better. 
</p>
<p style="margin: 0px;">
ps:script tested in max8 and max9. 
</p>
<p style="margin: 0px;">
Thanks to: 
</p>
<p style="margin: 0px;">
Zhangy(make the basic idea) 
</p>
<p style="margin: 0px;">
Mingyu (for testing ang making fish example scene) 
</p>
<p style="margin: 0px;">
<img src="realtime-spring_files/fishani.gif" alt="" border="0" height="240" width="320"> 
</p>
<p style="margin: 0px;">
&nbsp;
</p>
<p style="margin: 0px;">
<img src="realtime-spring_files/fishanibone.gif" alt="" border="0" height="240" width="320"> 
</p>
<p style="margin: 0px;">
&nbsp;
</p>
<p style="margin: 0px;">
update version 1.1 
</p>
<p style="margin: 0px;">
fixed:error when the scene has biped object. 
</p>
<p style="margin: 0px;">
update version 1.2 
</p>
<p style="margin: 0px;">
fixed:script controller error in max8. 
</p>
<p style="margin: 0px;">
update version 1.3d 
</p>
<p style="margin: 0px;">
*add filter fucntion to manage spring node by comment. 
</p>
<p style="margin: 0px;">
*loop before bake:loop animation few times before baking,get stable action in loop animation 
</p>
<p style="margin: 0px;">
*bake animation speed,when you get good movement with different animation speed,use this funciton to bake it. 
</p>
<p style="margin: 0px;">
*subsample,use "bake with subsample frames" button to do more percise calulation. 
</p>
<p style="margin: 0px;">
&nbsp;
</p>
<p style="margin: 0px;">
update version 1.4 
</p>
<p style="margin: 0px;">
*press esc key to exit when baking 
</p>
<p style="margin: 0px;">
*make it work in max8&nbsp; 
</p>
<p style="margin: 0px;">
&nbsp;
</p>
<p style="margin: 0px;">
My email:harrisyu@tom.com 
</p>
<br><br><strong>Installation/Comments: </strong>Just watching the video (find download link in Description) 
<br><br><strong>Script Author: </strong>Harrison Yu<br><strong>Author Homepage: </strong><a href="http://www.seageo.com/Harrison/">http://www.seageo.com/Harrison/</a><br><strong>Version: </strong>1.4<br><strong>Last Updated: </strong>2007-5-26<br><strong>Download URL: </strong><a href="http://www.seageo.com/Product/maxRTSscript/RealtimeSpring1.4.rar">http://www.seageo.com/Product/maxRTSscript/RealtimeSpring1.4.rar</a><br><strong>Version Requirement: </strong>max8,max9<br><br><strong>Requirements: </strong>tested on max8,max9,may not work in lower version 
<br><!-- google_ad_section_end -->    </div>
    <div class="links">» <a href="http://www.scriptspot.com/user/login?destination=comment/reply/3858%2523comment_form">login</a> or <a href="http://www.scriptspot.com/user/register?destination=comment/reply/3858%2523comment_form">register</a> to post comments | <a href="http://www.scriptspot.com/node/3858/print" title="Display a printer friendly version of this page.">printer friendly version</a></div>  
  </div><a id="comment"></a>
<a id="comment-127"></a>
  <div class="comment">
    <div class="picture"><a href="http://www.scriptspot.com/users/jrandom" title="View user profile."><img src="realtime-spring_files/default_user_pic.jpg" alt="jrandom's picture" title="jrandom's picture"></a></div><h3 class="title"><a href="http://www.scriptspot.com/3ds-max/realtime-spring#comment-127" class="active">Mind reader, I was just</a></h3>    <div class="submitted">Submitted by <a href="http://www.scriptspot.com/users/jrandom" title="View user profile.">jrandom</a> on Tue, 2007-03-13 21:12.</div>
    <div class="content"><p>Mind reader, I was just thinking about something just like this to attach a camera too! </p>
<p>Thanks,</p>
<p>John&nbsp;</p>
</div>
    <div class="links">» <a href="http://www.scriptspot.com/user/login?destination=comment/reply/3858%2523comment_form">login</a> or <a href="http://www.scriptspot.com/user/register?destination=comment/reply/3858%2523comment_form">register</a> to post comments</div>
  </div>
<a id="comment-245"></a>
  <div class="comment">
    <div class="picture"><a href="http://www.scriptspot.com/users/lalamax3d" title="View user profile."><img src="realtime-spring_files/default_user_pic.jpg" alt="lalamax3d's picture" title="lalamax3d's picture"></a></div><h3 class="title"><a href="http://www.scriptspot.com/3ds-max/realtime-spring#comment-245" class="active">very nice and imressive</a></h3>    <div class="submitted">Submitted by <a href="http://www.scriptspot.com/users/lalamax3d" title="View user profile.">lalamax3d</a> on Tue, 2007-05-01 10:07.</div>
    <div class="content"><p>very nice and imressive work.</p>
<p>i wish someone just wrote a float spring controller for max as a plugin.</p>
<p>ne ways.. this will a lot as well. specially if you could provide
little document / notes about spring controller parameters you added to
script controller and how they all work<br>
because i was kind of stuck at same level after watching those maya and xsi rigs :) </p>
<p>thanks and regards<br>
lala</p>
</div>
    <div class="links">» <a href="http://www.scriptspot.com/user/login?destination=comment/reply/3858%2523comment_form">login</a> or <a href="http://www.scriptspot.com/user/register?destination=comment/reply/3858%2523comment_form">register</a> to post comments</div>
  </div>
<a id="comment-251"></a>
  <div class="comment">
    <div class="picture"><a href="http://www.scriptspot.com/users/harrisyu" title="View user profile."><img src="realtime-spring_files/default_user_pic.jpg" alt="harrisyu's picture" title="harrisyu's picture"></a></div><h3 class="title"><a href="http://www.scriptspot.com/3ds-max/realtime-spring#comment-251" class="active">Hi!Lala:It was inspire by</a></h3>    <div class="submitted">Submitted by <a href="http://www.scriptspot.com/users/harrisyu" title="View user profile.">harrisyu</a> on Wed, 2007-05-02 01:35.</div>
    <div class="content"><p>Hi!Lala:It was inspire by Zhangy's sample scene,so it took me some time to understand.And here is a small explanation:</p>
<p>if this.enabled then (</p>
<p>--*I add a custom attributes to the script controller,so every time
the script controller execute,current vector speed of the node whould
store in a custom attributes "v".<br>
--"df":damping factor;"-this.v*this.df":faster speed cause more damping effect and it's in nagitvie direction<br>
--"sf":spring factor;"(DrvNode.pos-this.cValue)*this.sf":bigger distance cause bigger spring effect.</p>
<p>this.v=-this.v*this.df+(DrvNode.pos-this.cValue)*this.sf</p>
<p>--the following happened when speed is too faster<br>
if abs(this.cValue.x)&gt;=10000 then<br>
(<br>
this.v=[0,0,0]<br>
this.cValue=[0,0,0]<br>
)</p>
<p>--the following calculate the time duration since last evaluate of this script<br>
--with this the spring node movement would sync to the time</p>
<p>cTime=timestamp()/320 as float<br>
diff=cTime-this.oldTime<br>
this.oldTime=cTime<br>
if diff&gt;0.1 then diff=0.1<br>
if diff&lt;0 then this.cValue<br>
else this.cValue+=this.v*diff<br>
)else(DrvNode.pos)</p>
</div>
    <div class="links">» <a href="http://www.scriptspot.com/user/login?destination=comment/reply/3858%2523comment_form">login</a> or <a href="http://www.scriptspot.com/user/register?destination=comment/reply/3858%2523comment_form">register</a> to post comments</div>
  </div>
<a id="comment-273"></a>
  <div class="comment">
    <div class="picture"><a href="http://www.scriptspot.com/users/lalamax3d" title="View user profile."><img src="realtime-spring_files/default_user_pic.jpg" alt="lalamax3d's picture" title="lalamax3d's picture"></a></div><h3 class="title"><a href="http://www.scriptspot.com/3ds-max/realtime-spring#comment-273" class="active">hey, thanks man!...</a></h3>    <div class="submitted">Submitted by <a href="http://www.scriptspot.com/users/lalamax3d" title="View user profile.">lalamax3d</a> on Tue, 2007-05-15 08:59.</div>
    <div class="content"><p>hey, thanks man!... description is helpful....</p>
<p>can i use your script / definition and modify this for my use.?
actually sometimes i need this functionality to embed in a rig so
animator can change only certain controls &gt;&gt; ??</p>
<p>&nbsp;thanks again for helping and support..</p>
<p>&nbsp;</p>
<p>regards</p>
<p>lala&nbsp;</p>
</div>
    <div class="links">» <a href="http://www.scriptspot.com/user/login?destination=comment/reply/3858%2523comment_form">login</a> or <a href="http://www.scriptspot.com/user/register?destination=comment/reply/3858%2523comment_form">register</a> to post comments</div>
  </div>
<a id="comment-276"></a>
  <div class="comment">
    <div class="picture"><a href="http://www.scriptspot.com/users/harrisyu" title="View user profile."><img src="realtime-spring_files/default_user_pic.jpg" alt="harrisyu's picture" title="harrisyu's picture"></a></div><h3 class="title"><a href="http://www.scriptspot.com/3ds-max/realtime-spring#comment-276" class="active">Of cause,you can use this</a></h3>    <div class="submitted">Submitted by <a href="http://www.scriptspot.com/users/harrisyu" title="View user profile.">harrisyu</a> on Wed, 2007-05-16 06:30.</div>
    <div class="content"><p>Of cause,you can use this script&nbsp;and modify it for your use.But please keep the author information.</p>
</div>
    <div class="links">» <a href="http://www.scriptspot.com/user/login?destination=comment/reply/3858%2523comment_form">login</a> or <a href="http://www.scriptspot.com/user/register?destination=comment/reply/3858%2523comment_form">register</a> to post comments</div>
  </div>
<form action="/3ds-max/realtime-spring" method="post" id="comment_controls">
<div>  <div class="box">
    <h2 class="title">Comment viewing options</h2>    <div class="content"><div class="container-inline"><input name="edit[form_id]" id="edit-comment-controls" value="comment_controls" type="hidden">
<div class="form-item">
 <select name="edit[mode]" class="form-select" id="edit-mode"><option value="1">Flat list - collapsed</option><option value="2" selected="selected">Flat list - expanded</option><option value="3">Threaded list - collapsed</option><option value="4">Threaded list - expanded</option></select>
</div>
<div class="form-item">
 <select name="edit[order]" class="form-select" id="edit-order"><option value="1">Date - newest first</option><option value="2" selected="selected">Date - oldest first</option></select>
</div>
<div class="form-item">
 <select name="edit[comments_per_page]" class="form-select" id="edit-comments_per_page"><option value="10">10 comments per page</option><option value="30">30 comments per page</option><option value="50" selected="selected">50 comments per page</option><option value="70">70 comments per page</option><option value="90">90 comments per page</option><option value="150">150 comments per page</option><option value="200">200 comments per page</option><option value="250">250 comments per page</option><option value="300">300 comments per page</option></select>
</div>
<input name="op" value="Save settings" class="form-submit" type="submit">
</div><div class="description">Select your preferred way to display the comments and click "Save settings" to activate your changes.</div></div>
 </div>


</div></form>
<!-- end content -->      </div>
  </div>
  <div id="sidebar-left">
            <div class="block block-block" id="block-block-2">
    <h2 class="title">Sections</h2>
    <div class="content"><ul class="sections">
<li><a href="http://www.scriptspot.com/3ds-max-news">News</a></li>
<li><a href="http://www.scriptspot.com/3ds-max-scripts">Scripts</a></li>
<li><a href="http://www.scriptspot.com/3ds-max-plugins">Plugins</a></li>
<li><a href="http://www.scriptspot.com/3ds-max-tutorials">Tutorials</a></li>
<li><a href="http://www.scriptspot.com/forums/3ds-max">Forums</a></li>
<li><a href="http://www.scriptspot.com/blog">User Blogs</a></li>
</ul>
</div>
 </div>
  <div class="block block-block" id="block-block-7">
    <h2 class="title">Author Profile</h2>
    <div class="content"><div align="center"><a href="http://www.scriptspot.com/users/harrisyu"><img src="realtime-spring_files/default_user_pic.jpg"><br><br></a></div><a href="http://www.scriptspot.com/users/harrisyu"><b>harrisyu</b></a><br><br><br><div align="center"><a href="http://www.scriptspot.com/blog/harrisyu">View My ScriptSpot Blog</a></div></div>
 </div>
  <div class="block block-adsense" id="block-adsense-0">
    <h2 class="title"></h2>
    <div class="content"><!--adsense: cached-->
<div class="adsense">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5106756896826988";
google_ad_type = "text";
google_ad_channel = "";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_color_border = "111111";
google_color_bg = "111111";
google_color_link = "66B5FF";
google_color_url = "CAF99B";
google_color_text = "E6E6E6";
//--></script>
<script type="text/javascript" src="realtime-spring_files/show_ads.js">
</script><iframe name="google_ads_frame" src="realtime-spring_files/ads.htm" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" frameborder="0" height="600" scrolling="no" width="160"></iframe>
</div>
</div>
 </div>
  <div class="block block-user" id="block-user-0">
    <h2 class="title">User login</h2>
    <div class="content"><form action="/3ds-max/realtime-spring?destination=node%2F3858" method="post" id="user-login-form">
<div><div class="form-item">
 <label for="edit-name">Username: <span class="form-required" title="This field is required.">*</span></label>
 <input maxlength="60" name="edit[name]" id="edit-name" size="15" value="" class="form-text required" type="text">
</div>
<div class="form-item">
 <label for="edit-pass">Password: <span class="form-required" title="This field is required.">*</span></label>
 <input name="edit[pass]" id="edit-pass" maxlength="60" size="15" class="form-text required" type="password">
</div>
<input name="op" value="Log in" class="form-submit" type="submit">
<div class="item-list"><ul><li><a href="http://www.scriptspot.com/user/register" title="Create a new user account.">Create new account</a></li><li><a href="http://www.scriptspot.com/user/password" title="Request new password via e-mail.">Request new password</a></li></ul></div><input name="edit[form_id]" id="edit-user-login-block" value="user_login_block" type="hidden">

</div></form>
</div>
 </div>
      </div>

  <div id="footer">
    <div id="footer-border">
    </div>
    Interface design by Chris Grant - Implementation by Brenda Boggs - Powered by <a href="http://www.drupal.org/">Drupal</a>
  <div class="block block-block" id="block-block-1">
    <h2 class="title"></h2>
    <div class="content"><p><a href="http://www.scriptspot.com/">Home</a> | <a href="http://www.scriptspot.com/about">About</a> | <a href="http://www.scriptspot.com/advertise">Advertise</a> | <a href="http://www.scriptspot.com/disclaimer">Disclaimer</a> | <a href="http://www.scriptspot.com/site-map">Site Map</a> | <a href="http://www.scriptspot.com/contact">Contact</a></p>
</div>
 </div>
  </div>

<script type="text/javascript" src="realtime-spring_files/adsense_click.js"></script>
<script type="text/javascript" src="realtime-spring_files/urchin.js"></script><script type="text/javascript">_uacct = "UA-921095-1";urchinTracker();</script> </div>
</div>
</body></html>